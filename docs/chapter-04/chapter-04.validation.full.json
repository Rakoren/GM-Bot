{
  "schema_version": "0.1.0",
  "chapter": 4,
  "title": "chapter-04.validation.full",
  "generated_at": "2026-01-30",

  "validation_profile": "full",
  "inputs": {
    "manifest_path": "chapter-04/chapter-04.manifest.json"
  },

  "required_types": ["background", "species", "table", "list"],
  "optional_types": ["origin_feat"],

  "checks": [
    {
      "id": "manifest.shards.unique_ids",
      "type": "integrity",
      "severity": "error",
      "rule": "All shards[].id must be unique across the manifest."
    },
    {
      "id": "manifest.shards.paths.present",
      "type": "filesystem",
      "severity": "error",
      "rule": "Every shards[].path must exist on disk."
    },
    {
      "id": "background.core_fields",
      "type": "schema",
      "severity": "error",
      "targets": { "type": "background" },
      "rule": "Background shard must include: id, name, chapter, status, sourceRef, ability_scores, origin_feat_ref, skill_proficiencies, tool_proficiency, equipment_options."
    },
    {
      "id": "species.core_fields",
      "type": "schema",
      "severity": "error",
      "targets": { "type": "species" },
      "rule": "Species shard must include: id, name, chapter, status, sourceRef, creature_type, size, speed, traits."
    },
    {
      "id": "origin_feat.core_fields",
      "type": "schema",
      "severity": "error",
      "targets": { "type": "origin_feat" },
      "rule": "Origin feat shard must include: id, name, chapter, status."
    },
    {
      "id": "table.core_fields",
      "type": "schema",
      "severity": "error",
      "targets": { "type": "table" },
      "rule": "Table shard must include: id, name, chapter, status, sourceRef, entries."
    },
    {
      "id": "list.core_fields",
      "type": "schema",
      "severity": "error",
      "targets": { "type": "list" },
      "rule": "List shard must include: id, name, chapter, status, items."
    },
    {
      "id": "list.items.resolve",
      "type": "reference",
      "severity": "error",
      "targets": { "type": "list" },
      "rule": "Each list item must resolve to a shard id in the manifest."
    }
  ],

  "outputs": {
    "report_path": "chapter-04/validation.full.report.json",
    "on_success": "pass",
    "on_failure": "fail"
  },

  "notes": [
    "Chapter 4 validation focuses on shard presence and required fields.",
    "Origin feats are placeholders for Chapter 5 and do not require sourceRef."
  ]
}
